<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Belajar Leaflet</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <style>
      body {
        padding: 0;
        margin: 0;
      }
      html,
      body,
      #map {
        height: 100%;
        width: 100vw;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      // Mendefinisikan peta
      var map = L.map("map").setView([-6.1754, 106.8272], 10);
      // Mendefinisikan basemap
      L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        attribution: "Â© OpenStreetMap",
      }).addTo(map);
      // Mendefinisikan icon tunggal
      var greenIcon = L.icon({
        iconUrl: "leaf-green.png",
        shadowUrl: "leaf-shadow.png",

        iconSize: [38, 95], // size of the icon
        shadowSize: [50, 64], // size of the shadow
        iconAnchor: [22, 94], // point of the icon which will correspond to marker's location
        shadowAnchor: [4, 62], // the same for the shadow
        popupAnchor: [-3, -76], // point from which the popup should open relative to the iconAnchor
      });
      L.marker([-6.1754, 106.8272], { icon: greenIcon }).addTo(map);

      //mendefinisikan icon sebagai class
      var LeafIcon = L.Icon.extend({
        options: {
          shadowUrl: "leaf-shadow.png",
          iconSize: [38, 95],
          shadowSize: [50, 64],
          iconAnchor: [22, 94],
          shadowAnchor: [4, 62],
          popupAnchor: [-3, -76],
        },
      });

      var greenIcon = new LeafIcon({ iconUrl: "leaf-green.png" }),
        redIcon = new LeafIcon({ iconUrl: "leaf-red.png" }),
        orangeIcon = new LeafIcon({ iconUrl: "leaf-orange.png" });

      L.icon = function (options) {
        return new L.Icon(options);
      };

      L.marker([-6.2754, 106.8272], { icon: greenIcon })
        .addTo(map)
        .bindPopup("I am a green leaf.");
      L.marker([-6.0754, 106.8272], { icon: redIcon })
        .addTo(map)
        .bindPopup("I am a red leaf.");
      L.marker([-6.1754, 106.9272], { icon: orangeIcon })
        .addTo(map)
        .bindPopup("I am an orange leaf.");
    </script>
  </body>
</html>
